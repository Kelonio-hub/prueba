<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca Hipatia - IES CARPE DIEM</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Splash Screen -->
    <div id="splashScreen">
        <img src="assets/logo.png" alt="Logo Biblioteca Hipatia" class="logo">
        <h1>Bienvenidos a la Biblioteca Hipatia</h1>
        <div class="spinner"></div>
    </div>

    <!-- Login Section -->
    <div id="loginSection">
        <h2>Iniciar Sesi칩n</h2>
        <input type="email" id="emailInput" placeholder="Correo @educa.madrid.org" aria-label="Correo electr칩nico">
        <button id="loginButton">Iniciar Sesi칩n</button>
    </div>

    <!-- Main App Section -->
    <div id="app" style="display: none;">
        <header>
            <img src="assets/logo.png" alt="Logo Biblioteca Hipatia" class="header-logo">
            <h1>Biblioteca Hipatia</h1>
            <button id="themeToggle" aria-label="Cambiar tema">游깿</button>
            <button id="logoutButton">Cerrar Sesi칩n</button>
        </header>
        <main>
            <section id="searchSection">
                <input type="text" id="buscarInput" placeholder="Buscar por t칤tulo, autor, categor칤a o ISBN">
                <button id="buscarButton">Buscar</button>
            </section>
            <section id="userActions">
                <button id="reservarButton">Reservar Libro</button>
                <button id="verProgresoButton">Ver Progreso</button>
                <button id="solicitarLibroButton">Solicitar Libro</button>
                <button id="escribirRese침aButton">Escribir Rese침a</button>
                <button id="verPopularesButton">Libros Populares</button>
                <button id="personalizarColoresButton">Personalizar Colores</button>
                <button id="chatbotButton">Hablar con Hipat-IA</button>
            </section>
            <section id="adminSection" style="display: none;">
                <h2>Panel de Administraci칩n</h2>
                <div id="adminTabs">
                    <button class="tab active" data-tab="tareas">Tareas</button>
                    <button class="tab" data-tab="historial">Historial</button>
                    <button class="tab" data-tab="correos">Correos</button>
                    <button class="tab" data-tab="solicitudes">Solicitudes</button>
                </div>
                <div id="adminContent"></div>
            </section>
        </main>
    </div>

    <!-- Modals -->
    <div id="modalBusqueda" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Resultados de B칰squeda</h2>
            <div id="resultadosBusqueda"></div>
            <div id="paginacionBusqueda"></div>
        </div>
    </div>
    <div id="modalSolicitud" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Solicitar Libro</h2>
            <form id="solicitudForm">
                <input type="text" id="solicitudTitulo" placeholder="T칤tulo" required>
                <input type="text" id="solicitudAutor" placeholder="Autor" required>
                <button type="submit">Enviar Solicitud</button>
            </form>
        </div>
    </div>
    <div id="modalRese침a" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Escribir Rese침a</h2>
            <form id="rese침aForm">
                <input type="text" id="rese침aIsbn" placeholder="ISBN del libro" required>
                <textarea id="rese침aTexto" placeholder="Escribe tu rese침a (m치x. 500 palabras)" required></textarea>
                <input type="number" id="rese침aPuntuacion" min="1" max="5" placeholder="Puntuaci칩n (1-5)" required>
                <button type="submit">Enviar Rese침a</button>
            </form>
        </div>
    </div>
    <div id="modalPopulares" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Libros Populares</h2>
            <div id="popularesContent"></div>
        </div>
    </div>
    <div id="modalProgreso" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Tu Progreso</h2>
            <div id="progresoContent"></div>
        </div>
    </div>
    <div id="modalColores" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Personalizar Colores</h2>
            <form id="colorForm">
                <label><input type="color" id="colorFondo" value="#f5f5f5"> Fondo</label>
                <label><input type="color" id="colorTexto" value="#333"> Texto</label>
                <label><input type="color" id="colorPrimario" value="#007bff"> Primario</label>
                <button type="submit">Aplicar</button>
            </form>
        </div>
    </div>
    <div id="modalChatbot" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Hipat-IA</h2>
            <div id="chatbotMessages"></div>
            <input type="text" id="chatbotInput" placeholder="Escribe tu mensaje...">
            <button id="chatbotSend">Enviar</button>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer"></div>

    <!-- Scripts -->
    <script src="lib/xlsx.full.min.js"></script>
    <script type="module" src="js/main.js"></script>
</body>
</html>